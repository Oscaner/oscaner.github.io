---
layout: post
title: "Linux 基础命令"
date: 2018-12-07 20:00
author: "Oscaner"
header-img: "img/post-bg-alitrip.jpg"
multilingual: false
mathjax: false
no-catalog: false
categories:
  - skill
  - linux
tags:
  - Skill
  - Linux
---

## 查看当前工作目录

```shell
> pwd
```

## 更换目录

```shell
> cd [目录]
```

| 符号 | 意义 |
| :--: | :-- |
| . | 当前工作目录 |
| .. | 父目录 |
| ~ | 用户家目录 |
| - | 上个工作目录 |

## 显示目录

```shell
> ls [参数] [目录名]
```

| 参数 | 说明 |
| :--: | :-- |
| -a | 显示所有文件，包括隐藏文件 (以 "." 开头的文件) |
| -l | 以长格式显示 |
| -t | 按修改时间先后显示 |
| -R | 显示目录及下级子目录结构 (递归) |
| -m | 横向输出文件名，并以 "," 作分隔符 |
| -S | 以文件大小排序 |

| 文件颜色 | 说明 |
| :--: | :-- |
| 白色 | 普通文件 |
| 红色 | 压缩文件 |
| 蓝色 | 目录文件 |
| 浅蓝色 | 链接文件 |
| 黄色 | 设备文件 (/dev) |
| 绿色 | 可执行文件 (/bin、/sbin) |
| 粉红色 | 图片文件 |

## 创建目录

```shell
> mkdir [参数] {目录名}
```

| 参数 | 说明 |
| :--: | :-- |
| -p | 可以一次性创建整个目录树 |

## 删除目录

```shell
> rmdir [参数] [目录名]
```

若目录为空，则直接删除

若目录中有内容，则会产生错误信息且不能删除目录，但它会继续删除其余空目录

## 删除文件和文件夹

```shell
> rm [参数] [文件]
```

| 参数 | 说明 |
| :--: | :-- |
| -r | 删除整个目录树 |
| -f | 强制执行 |

## 创建空文件和更改时间戳

```shell
> touch [参数] [文件]
```

| 参数 | 说明 |
| :--: | :-- |
| -d | 更改时间戳为定义值 (后面加年月日，格式：20101212) |

## 复制目录

```shell
> cp [参数] [源文件] [目标文件]
```

| 参数 | 说明 |
| :--: | :-- |
| -r | 递归执行 (可复制目录树) |

## 移动或重命名文件

```shell
# 把源文件更名为目标文件
> mv [参数] [源文件] [目标文件]
# 移动文件到目标文件夹
> mv [参数] [源文件] [目标文件夹/]
```

## 查看文档

```shell
> cat [参数] [文件名]  # 由第一行开始显示文件内容
> tac [参数] [文件名]  # 由最后一行开始显示文件内容
> file [参数] [文件名] # 显示文件类型
```

cat 命令显示文件时会同时显示所有内容。大型文件在屏幕上一晃而过，难以阅读。因此它比较适合小于一屏的文件

```shell
> more [参数] [文件名] # 一页一页的显示文件内容
```

| more 命令操作 | 说明 |
| :--: | :-- |
| 空格键 (space) | 向下翻一页 |
| Enter | 向下翻一行 |
| /字符串 | 在内容中向下搜索字符串 |
| \:f | 立即显示出文件名以及目前显示的行数 |
| h | 帮助 |
| b 或 ctrl+b | 往回翻页 |
| q | 退出 |

```shell
> less # 与 more 类似，less 可以往前翻页
```

| less 命令操作 | 说明 |
| :--: | :-- |
| 空格键 | 向下翻一页 |
| [pagedown] | 向下翻一页 |
| [pageup] | 向上翻一页 |
| /字符串 | 向下搜索字符串 |
| ?字符串 | 向上搜索字符串 |
| n | 重复前一个搜索 |
| N | 反向重复前一个搜索 |
| h | 帮助 |
| q | 退出 |

```shell
> head [参数] [文件名] # 显示文件开始几行
```

| 参数 | 说明 |
| :--: | :-- |
| -n [number] | 显示前 number 行的信息

```shell
> tail [参数] [文件名] # 显示文件最后几行
```

| 参数 | 说明 |
| :--: | :-- |
| -n [number] | 显示后 number 行的信息 |
| -f | 一直监视 |

## 关机

```shell
> shutdown [参数] 时间 [警告信息]
> init 0 # 关机
> reboot # 重启
> init 6 # 重启
```

| 参数 | 说明 |
| :--: | :-- |
| -t sec | 送出警告信息和删除信息之间要延迟 sec 秒 |
| -k | 并不真正关机，而只是发出警告信息给所有用户 |
| -r | 关机后立即重新启动 |
| -h | 关机后停止系统 |

## 别名

```shell
> alias rm='rm -i'
> alias cp='cp -i'
> alias ls='ls --color=auto'
```

## 查看命令历史

```shell
> history
> history -c # 删除历史
```

## 管道

```shell
> 其他显示数据的命令 | grep [参数] [匹配文本] # 查询匹配文本
> cat /proc/cpuinfo | grep "model name" # 例子
```

| 参数 | 说明 |
| :--: | :-- |
| -c | 只输出匹配行的计数 |
| -i | 不区分大小写 (只适用于单字符) |
| -h | 查询多文件时不显示文件名 |
| -l | 查询多文件时只输出包含匹配字符的文件名 |
| -n | 显示匹配行及行号 |
| -s | 不显示不存在或无匹配文本的错误信息 |
| -v | 显示不包含匹配文本的所有行 |

```shell
> 其他显示数据的命令 | sort -r # 对查询出来的数据排序
> 其他显示数据的命令 | cut -d ['分隔符'] -f [number] # 用分隔符分割数据并取第number段
> 其他显示数据的命令 | uniq -c # 计数
> 其他显示数据的命令 | wc -l   # 统计多少行
```
